name: openwallabydotcom

services:
  webserver:
    image: joseluisq/static-web-server:2-alpine
    container_name: "webserver"
    ports:
      - 80:80
      - 443:443
    restart: unless-stopped
    environment:
      - SERVER_ROOT=/var/public
      - SERVER_CONFIG_FILE=/etc/config.toml
      - SERVER_HTTP2_TLS_CERT=/etc/certs/fullchain.pem
      - SERVER_HTTP2_TLS_KEY=/etc/certs/privkey.pem
    volumes:
      - ./public:/var/public
      - ./config/sws.toml:/etc/config.toml
      - /etc/letsencrypt/live/openwallaby.com/:/etc/certs